<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Day 6 ğŸ’–</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins&display=swap" rel="stylesheet">

  <!-- Main CSS -->
  <link rel="stylesheet" href="../style.css">
</head>

<body class="day-page">

  <div class="day-container">

    <h1>Day 6 ğŸ’•</h1>
    <p class="subtitle">Some feelings are better heardâ€¦ than read</p>

    <!-- Intro -->
    <div class="message-box">
      Todayâ€™s surprise isnâ€™t something you can hold ğŸ’Œ<br>
      Itâ€™s something you need to <strong>listen</strong> ğŸ¤<br><br>
      ğŸ§ <em>Headphones strongly recommended</em>
    </div>

    <!-- REVEAL BUTTON -->
    <button id="revealBtn" class="romantic-btn">
      Reveal todayâ€™s surprise ğŸ§
    </button>

    <!-- VOICE NOTE -->
    <div id="voiceBox" class="hidden mt-30">

      <div class="message-box">

        <p><strong>ğŸ§ Voice note from your boyfriend</strong></p>
        <p style="font-size:14px; color:#666;">Duration: 7:44</p>
        <p style="font-size:14px; color:#666;">
          Listen slowlyâ€¦ this one is meant only for you ğŸ¤
        </p>

        <audio
          id="voiceAudio"
          controls
          preload="metadata"
          style="width:100%; margin-top:14px;"
        >
          <source src="../assets/audio/day6-voice.mp3" type="audio/mpeg">
          Your browser does not support audio playback.
        </audio>

        <!-- DOWNLOAD OPTION -->
        <a
          href="../assets/audio/day6-voice.mp3"
          download
          class="romantic-btn"
          style="display:inline-block; margin-top:18px; padding:10px 24px; font-size:14px;"
        >
          Download this voice ğŸ¤
        </a>

      </div>

    </div>

    <!-- FINISHED LISTENING BUTTON -->
    <button id="finishBtn" class="romantic-btn hidden mt-30">
      Finished listening ğŸ’–
    </button>

    <!-- FINAL MESSAGE -->
    <div id="finalMessage" class="final-message hidden mt-40">
      <p>
        I know you canâ€™t meet your boyfriend today â˜ºï¸<br><br>
        <strong>
          But his voice, his thoughts,<br>
          and his heart â€” all of that is only yours ğŸ’–
        </strong>
      </p>
    </div>

    <!-- BACK LINK -->
    <a href="../week.html" class="back-link mt-40">
      â¬… Back to birthday week
    </a>

  </div>

  <!-- SCRIPT -->
  <script>
    const revealBtn = document.getElementById("revealBtn");
    const voiceBox = document.getElementById("voiceBox");
    const audio = document.getElementById("voiceAudio");
    const finishBtn = document.getElementById("finishBtn");
    const finalMsg = document.getElementById("finalMessage");

    // Always allow reveal (no lock, no memory)
    revealBtn.addEventListener("click", () => {
      voiceBox.classList.remove("hidden");
      revealBtn.style.display = "none";
    });

    // Each time audio finishes, show finish button
    audio.addEventListener("ended", () => {
      finishBtn.classList.remove("hidden");
    });

    // Final message (does NOT block replay)
    finishBtn.addEventListener("click", () => {
      finalMsg.classList.remove("hidden");
      finishBtn.style.display = "none";
    });

    // Reset UI when audio is replayed manually
    audio.addEventListener("play", () => {
      finishBtn.classList.add("hidden");
      finalMsg.classList.add("hidden");
    });
  </script>

</body>
</html>
