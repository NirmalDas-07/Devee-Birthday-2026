<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Birthday Week ğŸ’–</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body class="week-page">

  <h1 class="week-title">Your Birthday Week ğŸ’</h1>
  <p class="week-sub">One little surpriseâ€¦ every day just for you ğŸŒ¸</p>

  <div class="week-grid">

    <div class="day-card" data-day="1">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 1<br><span>Jan 5</span></div>
      <div class="hearts">ğŸ’–ğŸ’–</div>
      <p class="countdown"></p>
    </div>

    <div class="day-card" data-day="2">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 2<br><span>Jan 6</span></div>
      <div class="hearts">ğŸ’–ğŸ’–</div>
      <p class="countdown"></p>
    </div>

    <div class="day-card" data-day="3">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 3<br><span>Jan 7</span></div>
      <div class="hearts">ğŸ’–ğŸ’–</div>
      <p class="countdown"></p>
    </div>

    <div class="day-card" data-day="4">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 4<br><span>Jan 8</span></div>
      <p class="countdown"></p>
    </div>

    <div class="day-card" data-day="5">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 5<br><span>Jan 9</span></div>
      <p class="countdown"></p>
    </div>

    <div class="day-card" data-day="6">
      <div class="day-icon">ğŸ”’</div>
      <div class="day-text">Day 6<br><span>Jan 10</span></div>
      <p class="countdown"></p>
    </div>

    <div class="day-card day-7" data-day="7">
      <div class="day-icon">ğŸ‚</div>
      <div class="day-text">Day 7<br><span>Jan 11 ğŸ‰</span></div>
      <p class="countdown">The big day ğŸ’</p>
    </div>

  </div>

<script>
  /* ===============================
     IST TIME HANDLING (CRITICAL)
  =============================== */

  function getISTDate() {
    const now = new Date();
    const istOffset = 5.5 * 60 * 60 * 1000; // UTC + 5:30
    return new Date(now.getTime() + istOffset);
  }

  function formatDate(date) {
    return date.toISOString().split("T")[0]; // YYYY-MM-DD
  }

  const todayIST = formatDate(getISTDate());

  const unlockDates = {
    1: "2026-01-05",
    2: "2026-01-06",
    3: "2026-01-07",
    4: "2026-01-08",
    5: "2026-01-09",
    6: "2026-01-10",
    7: "2026-01-11"
  };

  document.querySelectorAll(".day-card").forEach(card => {
    const day = card.dataset.day;
    const unlockDate = unlockDates[day];
    const icon = card.querySelector(".day-icon");
    const countdown = card.querySelector(".countdown");

    // ğŸ”’ LOCKED
    if (todayIST < unlockDate) {
      card.classList.add("locked");
      icon.textContent = "ğŸ”’";

      if (countdown) {
        const unlock = new Date(unlockDate + "T00:00:00");
        const diffDays = Math.ceil(
          (unlock - getISTDate()) / (1000 * 60 * 60 * 24)
        );

        countdown.textContent =
          diffDays === 1
            ? "Opens tomorrow ğŸ¤"
            : `Opens in ${diffDays} days ğŸ“…`;
      }

      card.onclick = () => {
        alert("Not yet ğŸ˜Œ Come back on the right day ğŸ’•");
      };
      return;
    }

    // ğŸ”“ UNLOCKED
    card.classList.add("unlocked");
    icon.textContent = "â¤ï¸";

    card.onclick = () => {
      window.location.href = `days/day${day}.html`;
    };
  });
</script>

</body>
</html>

